package main

import (
	"fmt"
	"strings"
	"testing"

	"github.com/pmdcosta/aoc/2024/pkg/input"
)

func Test_ProvidedExample(t *testing.T) {
	lines := input.SplitFile(input.ReadFile(input.DirFile(input.Example)))
	fmt.Println(CalculateMultiplications(strings.Join(lines, "\n")))
}

func Test_Extra(t *testing.T) {
	fmt.Println(CalculateMultiplications("};//how():mul(422,702)'how()'from()-&when(551,888)from()#mul(694,437)who()<,/ ~)@&mul(776,511)@]%'({*select()mul(314,525)}}#]{!,]-mul(320,780)-who()mul(658,818)*%&>$who()(;:mul(387,867)@^where()-mul(901,72)mul(834,66)-what()how(){when()from()~why(872,51)what()mul(140,14)](who()?@}mul(85,947)(don't()/ how()*$[mul(797,644)mul(317,180)()where(480,157)how()when()^[ @what()mul(878,580)+;}>,~}&,(mul(623,287)mul(673,493)what()^?)-]@;mul(816,370))@+!><]mul(5,500)from(54,216)% :mul(815,27)(+<;mul(285,821)mul(71,366)mul(673,217)({('-)/>!mul(823,776),')%mul(738,626){ ]mul(805,547)mul(415,54)^ !![from()(mul(66,234)when(811,231)where()/%<{)mul(934,395) }~select(673,484)<-%from()?why()mul(522,155)}}>{~*%*mul(728,428)#>,,who()% don't()from()@/$@mul(85,666)#mul(248,114)<^from()@where()#who()@]mul(828,164)~]mul(629,878)&*'don't()& (% [-]mul(559,530)^';;>%'-mul(691,844)select()(where()#{where()>$?mul(430,663) (')/?where()~mul(490,843)mul(732,371)what()mul(941,911)&>,#,what()<what(668,239),mul(852,922)-@select()@select()mul(164,825) #!from()mul(438,366)&when(337,694)>: -];where(533,294)mul(432,502)where()mul(260,676)*mul(523,624)$:from()%@mul(826,610)when()~]']mul(233,752)*#)select()when())mul(566,872))?#/}what()<mul(971,886)(]%mul(534,431),%mul(96,804)] -+&:mul(316,380)who()&how()/mul(235,477)/mul(673,227)what()$]+why()what()$;why()don't() what()@)@:mul(936,387)*mul(541,493)(from(134,594)$@# &what()mul(815,777)~don't()~/)from()select()where()what()who(813,632)![mul(406,400)mul(500,187)~,(,;<mul(417,43)what()why(962,497)@@where()how()[don't()-!@{,when()?<mul(631,173)[/{?]'~)&mul(52,882)~&%why()#^mul(355,511)@who())?-mul(290,40) /mul(904,348)what()mul(64,672)what()#<</([/what()#mul(919,764)where()-&&&>where(499,38)(@-mul(715}#%!mul(769,30)+#^+mul(990,690)where(879,83))<*when()'mul(215,273)what()why()]why()^what()from()mul(415,131)/~mul*]mul(486,36)~]how()-]@<?mul(72@[what()[[+![mul(361,609)[what()#[,mul(588,160)][mul(20,721):where()&%%where()what()&mul(656,757)what(227,948)how()$from()why(703,434)$mul(71,245)$when()how()from()%,{( %mul(863,937]&mul(77,174)where()-?who()-mul(686,66)[select(731,328)(what()mul(3,841) #(who()%/mul(959,234)',^who(101,965)<##)(mul(678,85)/@';;where()mul(307,32)what()&/!)mul(220,161);^mul(930,751)what()mul(170,975)select()};?+select()when();)mul(36,174){!%who(),</:mul(260,293)/:)from()<who()}mul(809,643):>[;$*mul(906,502)why()when()^mul(545{;what()do())select();&mulwhere(920,781)how()@;mul(674,946)<,>what())when()^don't()mul(724,896)}; (from()'mul(224,689)'%+mul(414,951)*>::*:@#?mul(53,511)where()*how()^@<mul(86,654)~@~,{mul(375,691)[?select()where()?select()[why()[ mul(669,31)}{*select()}where()from()where()mul(95,352)>who()~select(619,591)'from(),from()[?mul(93,443)%;mul(261,326)':'}'select()#mul(360,973)select(284,94)$mul(175,634)?when(811,326)~%where(843,474)mul(765,798):mul(673,144):where()?mul(159,258)&mul(815,9)<mul(834,28)^from()what(42,833)mul(553,672)%?from();!<'where()#?mul(896,767)"))
	fmt.Println(CalculateMultiplications("~@[*:from()mul(321,720)& <@[[select()?{mul(540,400)~&mul(171,323)*from()mul(245,361))^who()mul(189,549){ % @where(952,332)mul(910,935)@){'why()]$>don't()how()where(){//'from()where()}when()mul(742,244)do()mul(610,941):{mul(115,912)(@}}];mul(231,185)/~>?mul(259,174))don't()why(774,767)~ mul(489,299)where() ](+how()~what()#*don't()' $when(867,187) !$-*:mul(698,960)where()+>&%select()when()mul(769,301)(mul(363,853)select()/[/where()mul(846,922):>mul(978,352)+from()mul(264,981)@+what()mul(970{)%!%who()who()<mul(24,104)why();mul(218,740)#*~@why()$how()don't()what()% <:+~from()mul(744,878)~;)*~*(mul(469,289)//;'>where()when()$mul(28,784)##<mul(164,217)*-mul(268,221)where()select())how()@^/mul(760 ~what(583,641)'#}%mul(901,870)'don't()what();{!&how()}^-mul(582,519)+[who()$from()<!don't()&^mul(449,296)mul(708,857)][mul(82,712)#(){~}select()>(!mul(562,893)[}+&mul@what()mul(564,467)>*mul(161,994)%(mul(78,208);mul(928,328what()+ *<who()[#mul(917,101)!!'[where()}^~!when(647,690)mul(333,572);*>,]%<{$select()mul(844,610)[where()>,mul(671,501)&mul(917,861)!>]?~from()/!}@mul(422,558):[()}*'mul(390,876)from()from();$+how()select()do()~from()!mul(267,972)~>select(921,36){$what(){$mul(385,741)when()^)%~? >*mul(147,352)}how()select()why(548,669)select(917,475)&&mul(154,915)mul(834,894)#who()>)*from()@mul(761,64):+why()mul(635,671)/mul(889,79)%%select(),*>mul(803,665)^$why():when() !don't()$)mul(734,443)}where();]#*mul(561,821)who()^mul(912,344)%,when()+':;mul(321,506)what()where()}&(@~~ mul(914,345)>#;mul(976,316){]&mul(926,588)from()[mul(301,433)where(){+from()~select()mul(14,655)why()why()how()&&from()[what()~select()don't())mul(90,132))#where()%}!/~mul'[@select()@)mul(615,725)from()%mul(709,947),why()!)who()-why()<;mul(161,106);$where()(&)/'~mul(614,844), }mul(36,533)&+'mul(728,813)'$who()mul(456,164%from()from()?mul(519,872)]$ ,#$select()why()[don't())why()+mul(367,880) mul(721,671)- from()who()#;mul'from(879,839)#>?!?;how(932,935)@mul(369,978))-how();who()where())mul(625[/:mul(871,200)}from(163,888)don't()(mul(36,600)}@]&@{~select()'mul(297,450)who()*when();mul(577,70)@$how()&mul(432,674)^-]<why()mul(711+?-when(55,702)({[~mul(831,270)select()[where()<~why()]mul(595,284)how()mul(311,358)'-mul(800,256)+/:select(39,811)[,#do()}:$,where()#where()mul(636,187){$?((from()mul(259,618)what()}:where()>)&~select()&mul(613,478)where();$where()%where()~^;+mulwhen()where()[}}who()from()~$select()mul(86,687)mul(41,8)where()};{mul(348,302)>who()&how(){>who()don't()];mul(826,777)what()/^#$,where()do()<+)&what()<#,why(98,370)(mul(166,982)')why()$^&mul(464,159)({&%/% ,select()mul(638,625)-:mul(636,795)mul(126,29)-~*%~%[!/@mul(702,242)&select()-do():%/select()&?'#-mul(816,924)+[@:what()~@>what(959,176)when()mul(855,855)$(who()*mul(742,117)[where() ]mul(412,658);mul(535,925)^@&mul(593,645)how(177,636){why(){,}/}%how()mul(532 'select()]don't()};+}mul(984,319)[select()mul(781,555)!~/from()]!mul(868,475)what()#mul(982,85)*,when()><^/[[mul(429,386)?mul(40,610)from()&mul(773,785)<&'+mul-$what()^,}from(804,802)@^>mul(625,213)when(917,580)$<&:!how()(*mul(822,650)-]>select()mul(172,892)from(),/%#%,*+mul(844,787)what(497,317)<:':why();(why()mul(861,647:<;^@[why()>select(517,408){&mul(917,288)mul(690,497)"))
}
